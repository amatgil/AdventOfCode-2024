# Experimental!
~ "git: github.com/amatgil/steal-gift" ~ AoCGet

# ====== INPUTS ======
Input â† AoCGet 2024 6

# ====== Shared ======
Guards           â† "^>v<"
GuardPos         â† |1 âŠ¢âŠšâˆŠGuards                     # pos ? board
DeltaOf          â† â£(Â¯1_0Â°@^|0_Â¯1Â°@<|1_0Â°@v|0_1Â°@>) # delta ? guard
RemoveGuard      â† âœâŠ¡â‹…@.                            # board ? pos board
WhatNext         â† â¨¬(2|â£(âŠ—:".#"âŠ¡|2)) âŠ¸(â‰¥â‚€/Ã—)        # ? pos board, 0=normal, 1=obs, 2=oob
RotatedGuardIcon â† âœ(âŠ—:Guards|â—¿â‚„ +â‚)                # rotguard ? guard
AdvGuard         â† âœâŠ¡â—Œ âŠƒ(+|â‹…âœâŠ¡â‹…@.|â‹…âŠ¡)               # ? delta pos board
RotGuard         â† âœâŠ™âŠ¡âŠ™â—Œ â—¡(RotatedGuardIconâŠ¡)       # ? pos board
Next â† (
  âŠ¸GuardPos
  â—¡(WhatNext+)â—¡(DeltaOfâŠ¡)
  â¨¬(AdvGuard|RotGuardâ—Œ|âˆ)
)
PushNext    â† âœÂ°âŠ‚[âŠ¸Next]                           # [advboards] ? [boards]
HaveRepeats â† â£(0â—ŒâŠ¢âŠš|1) â‰¡âŒâ‰ Â°âŠ‚                     # ? boards
KeepGoing   â† â†§ HaveRepeats                        # boards keepgoing
DoesItLoop  â† â—Œâ¢(â£(PushNext|âŠ™â‹…0)|KeepGoing) âŠ™1 [âˆ˜] # stack: boards keepgoing
SetSubtr    â† â–½âŠ¸(Â¬âˆŠ) Â¤                             # A-B ? A B

Visualize â† â‰¡(â–½âŸœâ‰¡â–½4 layout12) # [imgs] ? [boards]

# ====== PART 1 ======
Partâ‚ â† /+>â‚€â™­/+â‰¡(âˆŠ Guards) â‡Œ[â—Œâ¢(âŠ¸Next|Â¬â‰âˆ)] âŠœâˆ˜âŠ¸â‰ @\n
# Part1View â† Visualize â‡Œ[â—Œâ¢(âŠ¸Next|Â¬â‰âˆ)] âŠœâˆ˜âŠ¸â‰ @\n

# ====== PART 2 ======
Partâ‚‚ â† (
  âŠœâˆ˜âŠ¸â‰ @\n
  âŠ¸âŠƒ(GuardPos|â™­â‚‹â‚â‡¡â–³)
  SetSubtr
  /+ â‰¡(DoesItLoop âœâŠ¡â‹…@# ?â‚) âŠ™Â¤
)

# ====== TESTS =======
# Input here
$ ....#.....
$ .........#
$ ..........
$ ..#.......
$ .......#..
$ ..........
$ .#..^.....
$ ........#.
$ #.........
$ ......#...
# â¤â¤™â‰ 41 Partâ‚ .
â¤â¤™â‰ 6 Partâ‚‚

# ======== RUNNING ========
# ğ„ˆ$"Part one solution is: '_' (_s)" âœnowPartâ‚ Input

$"Part two solution is: '_'" Partâ‚‚ Input
